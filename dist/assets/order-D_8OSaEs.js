import"./style-Dxsv3YZA.js";document.addEventListener("DOMContentLoaded",function(){const m=localStorage.getItem("isLoggedIn"),a=JSON.parse(localStorage.getItem("currentUser"));if(m!=="true"||!a){alert("Please login to view your orders."),window.location.href="/auth/login.html";return}const l=document.getElementById("welcome-user");l&&(l.textContent=`Welcome, ${a.username}!`);const r=document.getElementById("logout-btn");r&&(r.style.display="block",r.addEventListener("click",()=>{localStorage.removeItem("isLoggedIn"),localStorage.removeItem("currentUser"),window.location.href="/auth/login.html"}));const e=JSON.parse(localStorage.getItem("latestOrder"));if(!e){document.body.innerHTML="<main><h2>No order found.</h2></main>";return}document.getElementById("customer-info").textContent=`Order for: ${e.fullName}`;const d=document.getElementById("order-items");e.items.forEach(t=>{const n=document.createElement("div");n.classList.add("order-item"),n.innerHTML=`
        <span>${t.name} (x${t.quantity})</span>
        <span>$${(t.price*t.quantity).toFixed(2)}</span>
      `,d.appendChild(n)});const o=t=>{const n=parseFloat(t);return isNaN(n)?"$0.00":`$${n.toFixed(2)}`};document.getElementById("summary-subtotal").textContent=`Subtotal: ${o(e.subtotal)}`,document.getElementById("summary-tax").textContent=`Tax: ${o(e.tax)}`,document.getElementById("summary-shipping").textContent=`Shipping: ${o(e.shipping)}`,document.getElementById("summary-total").textContent=`Total: ${o(e.total)}`,localStorage.removeItem("latestOrder")});
