import"./style-BjrOFaNX.js";import"./product-listing-DYCMCtPh.js";const f=document.querySelector("#current-temp"),d=document.querySelector("#weather-icon"),v=document.querySelector("figcaption"),S=document.querySelector("#aqi"),g=document.querySelector("#weather-tip"),I="https://api.openweathermap.org/data/2.5/weather?lat=9.06&lon=7.50&appid=3b8e49e1c7833a396d7ecc85f676d123&units=imperial";async function T(){try{const e=await fetch(I);if(e.ok){const t=await e.json();C(t)}else throw new Error(await e.text())}catch{g.textContent="Weather data unavailable."}}function C(e){const t=e.main.temp.toFixed(1);f.innerHTML=`${t}&deg;F`;const i=e.weather[0].icon,n=e.weather[0].description,r=`https://openweathermap.org/img/w/${i}.png`;d.setAttribute("src",r),d.setAttribute("alt",n),v.textContent=n.charAt(0).toUpperCase()+n.slice(1);const o=Math.floor(Math.random()*201);S.textContent=o;let s="";o<=50?s="Good":o<=100?s="Moderate":s="Unhealthy";const y={Clear:"Great day to walk or bike instead of driving—save emissions!",Clouds:"Overcast skies? Perfect for indoor activities that use less energy.",Rain:"Collect rainwater for your garden. Save water, grow greener!",Thunderstorm:"Unplug electronics to avoid power surges and save energy.",Drizzle:"A light drizzle—skip watering your plants today!",Snow:"Bundle up with layers instead of cranking the heat.",Mist:"Air quality can dip in misty weather—limit car usage.",Fog:"Drive less and use lights efficiently to avoid unnecessary energy use.",Haze:"Try indoor plants to improve air quality naturally.",Dust:"Keep windows closed and use natural cleaning products indoors.",Smoke:"Avoid burning waste. Recycle and reduce fire risk.",Sand:"Sandstorms? Use weather stripping to protect your home and save energy."},p="Every day is a good day to reduce waste, reuse, and recycle.",h=e.weather[0].main,w=y[h]||p;g.textContent=`${w} (AQI: ${o} - ${s})`}T();function E(){const e=localStorage.getItem("lastVisit"),t=Date.now();if(!e)document.getElementById("visitor-message").innerText="Welcome! Let us know if you have any questions.";else{const i=t-e,n=Math.floor(i/(1e3*60*60*24));if(n<1)document.getElementById("visitor-message").innerText="Back so soon! Awesome!";else{const r=n===1?"day":"days";document.getElementById("visitor-message").innerText=`You last visited ${n} ${r} ago.`}}localStorage.setItem("lastVisit",t)}E();const q=document.querySelector(".navigation"),u=document.querySelector("#menu");u.addEventListener("click",()=>{q.classList.toggle("open"),u.classList.toggle("open")});const x=new Date().getFullYear();document.getElementById("currentyear").textContent=x;const L=document.getElementById("newsletterSubmit"),m=document.getElementById("newsletterEmail"),a=document.getElementById("newsletterMessage");L.addEventListener("click",function(){if(m.value.trim()===""){a.innerText="Please enter a valid email address.",a.classList.remove("hidden");return}setTimeout(()=>{a.innerText="Thank you for subscribing to our newsletter!",a.classList.remove("hidden")},1e3),m.value=""});const c=["color-1","color-2","color-3"];let l=0;function k(){const e=document.querySelector(".weather-section");e.classList.add("fade"),setTimeout(()=>{c.forEach(t=>e.classList.remove(t)),l=(l+1)%c.length,e.classList.add(c[l]),e.classList.remove("fade")},500),setTimeout(()=>{e.classList.add("fade")},0)}setInterval(k,1e4);
